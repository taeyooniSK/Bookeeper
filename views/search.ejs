<% include ./partials/header %>



<body>
    <label>Browser Select</label>
    <form id="form" action="/search" method="GET">
        <select class="browser-default" name="year" onchange="test(event)">
            <option value="2016">2016</option>
            <option value="2017">2017</option>
            <option value="2018">2018</option>
            <option value="2019">2019</option>
        </select>
        <select class="browser-default" name="month" onchange="test(event)">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
        </select>
        <select class="browser-default" name="day" onchange="test(event)">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
        </select>
        <a id="confirm-btn" type="submit">확인</button>
        <!-- <a id="btn" href="/search" type="submit">확인</button> -->
    </form>
  


    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<script>


    
    function getValue(val){
      /*
        const year = document.forms[0].elements[0].value;
        console.log(year);
        */
        const btn = document.getElementById("btn");
        btn.href ="/search/"
        btn.setAttribute("href", `/search/${val}`);
       
    }

/*
     form.addEventListener("submit", (e) => {
        getDateValues(e);
    }); 


    const form = document.getElementById("form");

    form.addEventListener("submit", () => {
        getDateValues();
    });
*/
    let year, month, day;
    const btn = document.getElementById("confirm-btn");
    function test(event){
        
        console.log(event.target.value);
        if(event.target.name === "year"){
           year = event.target.value;
        } else if (event.target.name === "month"){
           month = event.target.value;
        } else if (event.target.name === "day"){
            day = event.target.value;
        }
        btn.onclick = function(){
            if(year && month && day){
                btn.setAttribute("href", `/search/${year}?month=${month}&day=${day}`);
            }
        }
    }

  
    
    
    

</script>
</body>
</html>